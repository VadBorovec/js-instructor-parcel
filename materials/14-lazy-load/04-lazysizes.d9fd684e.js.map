{"mappings":"YAKI,YAAaA,iBAAiBC,WAChCC,QAAQC,IAAI,iCA8BOC,SAASC,iBAAiB,uBAElCC,SAAQC,IACjBA,EAAIC,IAAMD,EAAIE,QAAQD,GAAG,MA9B3BN,QAAQC,IAAI,oCAed,WACE,MAAMO,EAASN,SAASO,cAAc,UACtCD,EAAOF,IACL,0EACFE,EAAOE,UACL,kGACFF,EAAOG,YAAc,YAErBT,SAASU,KAAKC,YAAYL,E,CAtBLM,IASvB,SAASC,EAAcC,GACrBhB,QAAQC,IAAI,wBACZe,EAAIC,OAAOC,UAAUC,IAAI,S,CARRjB,SAASC,iBAAiB,iBAElCC,SAAQgB,IACjBA,EAAMC,iBAAiB,OAAQN,EAAe,CAAEO,MAAM,GAAO,G","sources":["src/materials/14-lazy-load/js/04-lazysizes.js"],"sourcesContent":["/*\n * Библиотека lazysizes\n * - feature detection\n */\n\nif ('loading' in HTMLImageElement.prototype) {\n  console.log('Браузер поддерживает lazyload');\n  addSrcAttrToLazyImages();\n} else {\n  console.log('Браузер НЕ поддерживает lazyload');\n  addLazySizesScript();\n}\n\nconst lazyImages = document.querySelectorAll('img[data-src]');\n\nlazyImages.forEach(image => {\n  image.addEventListener('load', onImageLoaded, { once: true });\n});\n\nfunction onImageLoaded(evt) {\n  console.log('Картинка загрузилась');\n  evt.target.classList.add('appear');\n}\n\nfunction addLazySizesScript() {\n  const script = document.createElement('script');\n  script.src =\n    'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js';\n  script.integrity =\n    'sha512-TmDwFLhg3UA4ZG0Eb4MIyT1O1Mb+Oww5kFG0uHqXsdbyZz9DcvYQhKpGgNkamAI6h2lGGZq2X8ftOJvF/XjTUg==';\n  script.crossOrigin = 'anonymous';\n\n  document.body.appendChild(script);\n}\n\nfunction addSrcAttrToLazyImages() {\n  const lazyImages = document.querySelectorAll('img[loading=\"lazy\"]');\n\n  lazyImages.forEach(img => {\n    img.src = img.dataset.src;\n  });\n}\n"],"names":["HTMLImageElement","prototype","console","log","document","querySelectorAll","forEach","img","src","dataset","script","createElement","integrity","crossOrigin","body","appendChild","$eee7ed1c17fc4fb0$var$addLazySizesScript","$eee7ed1c17fc4fb0$var$onImageLoaded","evt","target","classList","add","image","addEventListener","once"],"version":3,"file":"04-lazysizes.d9fd684e.js.map"}