{"mappings":"AAIA,MAAMA,YAAc,eAEdC,KAAO,CACXC,KAAMC,SAASC,cAAc,qBAC7BC,SAAUF,SAASC,cAAc,gCAanC,SAASE,aAAaC,GACpBA,EAAIC,iBAEJC,QAAQC,IAAI,oBACGH,EAAXI,cAAcC,QAClBC,aAAaC,WAAWd,Y,CAQ1B,SAASe,gBAAgBR,GACvB,MAAMS,EAAUT,EAAIU,OAAOC,MAE3BL,aAAaM,QAAQnB,YAAagB,E,CAOpC,SAASI,mBACP,MAAMC,EAAeR,aAAaS,QAAQtB,aAEtCqB,IACFpB,KAAKI,SAASa,MAAQG,E,CArC1BpB,KAAKC,KAAKqB,iBAAiB,SAAUjB,cACrCL,KAAKI,SAASkB,iBAAiB,QAASC,SAAST,gBAAiB,MAElEK","sources":["src/materials/16-localstorage/src/js/02-feedback.js"],"sourcesContent":["// import throttle from 'lodash.throttle';\n// import '../css/common.css';\n// import '../css/feedback-form.css';\n\nconst STORAGE_KEY = 'feedback-msg';\n\nconst refs = {\n  form: document.querySelector('.js-feedback-form'),\n  textarea: document.querySelector('.js-feedback-form  textarea'),\n};\n\nrefs.form.addEventListener('submit', onFormSubmit);\nrefs.textarea.addEventListener('input', throttle(onTextareaInput, 200));\n\npopulateTextarea();\n\n/*\n * - Останавливаем поведение по умолчанию\n * - Убираем сообщение из хранилища\n * - Очищаем форму\n */\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  console.log('Отправляем форму');\n  evt.currentTarget.reset();\n  localStorage.removeItem(STORAGE_KEY);\n}\n\n/*\n * - Получаем значение поля\n * - Сохраняем его в хранилище\n * - Можно добавить throttle\n */\nfunction onTextareaInput(evt) {\n  const message = evt.target.value;\n\n  localStorage.setItem(STORAGE_KEY, message);\n}\n\n/*\n * - Получаем значение из хранилища\n * - Если там что-то было, обновляем DOM\n */\nfunction populateTextarea() {\n  const savedMessage = localStorage.getItem(STORAGE_KEY);\n\n  if (savedMessage) {\n    refs.textarea.value = savedMessage;\n  }\n}\n\n// Домой\n// сделать так чтобы сохраняло не только сообщение но и имя, и все в одном обьекте\n\n// const formData = {};\n\n// refs.form.addEventListener('input', e => {\n//   // console.log(e.target.name);\n//   // console.log(e.target.value);\n\n//   formData[e.target.name] = e.target.value;\n\n//   console.log(formData);\n// });\n"],"names":["STORAGE_KEY","refs","form","document","querySelector","textarea","onFormSubmit","evt","preventDefault","console","log","currentTarget","reset","localStorage","removeItem","onTextareaInput","message","target","value","setItem","populateTextarea","savedMessage","getItem","addEventListener","throttle"],"version":3,"file":"02-feedback.056bca6f.js.map"}